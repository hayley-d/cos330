<div class="max-w-lg mx-auto mt-12 bg-pink-50 p-8 rounded-2xl shadow-lg border border-pink-200">
  <h1 class="text-3xl font-extrabold mb-6 text-pink-600 text-center">Edit Image</h1>

  <%= form_with url: image_path(params[:id]), method: :patch, local: true do |f| %>
    <div class="mb-5">
      <%= label_tag :file_name, "File Name", class: "block text-sm font-semibold text-pink-700 mb-1" %>
      <%= text_field_tag :file_name, @image["file_name"],
                         class: "mt-1 block w-full border border-pink-300 rounded-md p-3 focus:ring-2 focus:ring-pink-400 focus:border-pink-400 bg-white" %>
    </div>

    <div class="mb-5">
      <%= label_tag :description, "Description", class: "block text-sm font-semibold text-pink-700 mb-1" %>
      <%= text_area_tag :description, @image["description"],
                        class: "mt-1 block w-full border border-pink-300 rounded-md p-3 focus:ring-2 focus:ring-pink-400 focus:border-pink-400 bg-white", rows: 4 %>
    </div>

    <div class="flex justify-end space-x-3">
      <%= submit_tag "Save Changes",
                     class: "bg-pink-500 text-white px-5 py-2 rounded-lg shadow hover:bg-pink-600 transition" %>
      <%= link_to "Cancel", images_path,
                  class: "bg-gray-100 text-gray-700 px-5 py-2 rounded-lg shadow hover:bg-gray-200 transition" %>
    </div>
  <% end %>

  <%= hidden_field_tag :mime_type, @mime_type %>

  <% if @image_base64 %>
    <div class="mt-8 text-center">
      <img src="data:image/<%= @mime_type %>;base64,<%= @image_base64 %>"
           alt="Fetched Image"
           class="rounded-lg shadow-md border-4 border-pink-200 mx-auto" />
    </div>
  <% else %>
    <p class="text-gray-500 mt-6 text-center italic">No image available</p>
  <% end %>
</div>
